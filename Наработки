https://infostart.ru/1c/articles/1118319/#_Toc18589857
--- Добавить элементы на форму программно (Чтобы не искать при обновлении изменения на форме, а видеть ее в коде)
ПриСозданииНаСервере
	// создание реквизита формы
	ОснованойРеквизит = Новый (РеквизитФормы("Объект", Новый ОписаниеТипов("ДокументОбъект.ПоступлениеТоваров",,, ),,"Объект", Истина));
	ДобавляемыеРеквизиты = Новый Массив;
	ДобавляемыеРеквизиты.Добавить(ОсновнойРеквизит);
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	// создание элемнеты формы
	Если Элементы.Найти("ИТПлДолжность") = Неопределено Тогда
		НовыйЭлемент = Форма.Элементы.Вставить("ИТПлДолжность", Тип("ПолеФормы"), Форма.Элементы.ОсновныеДанныеПраваяКолонка);
		НовыйЭлемент.ПутьКДанным = "Объект.ИТПлДолжность";
		НовыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.Заголовок = "Должность";
		НовыйЭлемент.АвтоМаксимальнаяШирина = Ложь
	КонецЕсли;
	// создание группы
	Если Элементы.Найти("ИмяГруппы") = Неопределено Тогда
		ГруппаФормы = Элементы.Добавить(ИмяГруппы, Тип("ГруппаФормы"),Этаформа);
		ГруппаФормы.Вид = ВидГруппыформы.ОбычнаяГруппа;
	КонецЕсли;
	// создание ТЧ и его колонки
	ТаблицаФормы = Элементы.Добавить("Товары", Тип("ТаблицаФормы"), ЭтотОбъект);
	ТаблицаФормы.Вид = ВидПоляФормы.ПолеВвода;

	ДобавляемыйЭлемент = Элементы.Добавить("Номенклатура", Тип("ПолеФормы"),ТаблицаФормы);
	ДобавляемыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
	ДобавляемыйЭлемент.ПутьКДанным = "Объект.Товары.Номенклатура";
	// создаем обработчик события
	Элемент = Элементы.Найти("ССылка");
	Если Элемент<>Неопределено Тогда
		Элемент.УстановитьДействие("ПриИзменении", "СсылкаПриИзменении"); // второй параметр это имя процедуры
	КонецЕсли;
	// создаем команду
	Команда = Команды.Добавить("ЗаписатьЗакрыть");
	команда.Заголовок = "";
	Команда.Действие = "ЗаписатьЗакрыть"; // имя процедуры
 	// создаем кнопку
	Элемент = Элементы.Добавить("ЗаписатьЗакрыть", Тип("КнопкаФормы"), команднаяпанель);
	Элемент.Заголовок = "";
	Элементы.ИмяКоманды = "ЗаписатьЗакрыть";
ИЛИ ТАК

Если Форма.ИмяФормы = "Справочник.БанковскиеСчетаОрганизаций.Форма.ФормаЭлемента" Тогда
		
		ИмяЭлемента = "ДЕФА_ТекстНазначенияПлатежа";
		
		НовыйЭлемент = Форма.Элементы.Вставить(ИмяЭлемента, Тип("ПолеФормы"), Форма.Элементы.СтраницаНастройкаПечати, Форма.Элементы.ИспользоватьТекстКорреспондента);
		НовыйЭлемент.ПутьКДанным			= "Объект." + ИмяЭлемента;
		НовыйЭлемент.Вид					= ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.АвтоМаксимальнаяШирина = Ложь;
		НовыйЭлемент.МногострочныйРежим 	= Истина;
		
КонецЕсли;

--- УДАЛЕНИЕ ИЗ МАССИВА С КОНЦА
ТекущийИндекс = мКолонокДляВыгрузки.ВГраница();
Пока ТекущийИндекс >= 0 Цикл 
	Если СтрНачинаетсяС(мКолонокДляВыгрузки[ТекущийИндекс], "Розница") Тогда
		нМассив.Добавить(мКолонокДляВыгрузки[ТекущийИндекс]);
		мКолонокДляВыгрузки.Удалить(ТекущийИндекс);
	КонецЕсли; 
	ТекущийИндекс = ТекущийИндекс - 1;
КонецЦикла;


--- Открыть форму с динамическим списком с параметром в запросе

- команда открывает форму и добавляет в структуру формы Параметры новое значение из параметров команды  

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	//Вставить содержимое обработчика.
	ПараметрыФормы = Новый Структура("Контрагент", ПараметрКоманды);
	ОткрытьФорму("Справочник.Контрагенты.Форма.ДвиженияБУ", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
КонецПроцедуры

- При создании формы на сервере обращаемся к структуре формы Параметы и передаем значение в параметр запроса динамического списка

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)                        
	Контрагент = Неопределено;
	Параметры.Свойство("Контрагент", Контрагент);
	СписокДвижений.Параметры.УстановитьЗначениеПараметра("Контрагент", Контрагент);
КонецПроцедуры
