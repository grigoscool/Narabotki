1.Добавить реквизит на форму программно

Если Форма.ИмяФормы = "Справочник.БанковскиеСчетаОрганизаций.Форма.ФормаЭлемента" Тогда
		
		ИмяЭлемента = "ДЕФА_ТекстНазначенияПлатежа";
		
		НовыйЭлемент = Форма.Элементы.Вставить(ИмяЭлемента, Тип("ПолеФормы"), Форма.Элементы.СтраницаНастройкаПечати, Форма.Элементы.ИспользоватьТекстКорреспондента);
		НовыйЭлемент.ПутьКДанным			= "Объект." + ИмяЭлемента;
		НовыйЭлемент.Вид					= ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.АвтоМаксимальнаяШирина = Ложь;
		НовыйЭлемент.МногострочныйРежим 	= Истина;
		
	КонецЕсли;


2.Создать произвольную таблицу значений на форме

&НаСервере
Процедура СоздатьТаблицуФормы(Знач ИмяПоляТаблицыФормы, Знач ИмяРеквизитаДанныеФормыКоллекция, Знач ТаблицаЗначений)
	
	// Если руками не создали эелемент формы Таблица, то создается программно
	Если Элементы.Найти(ИмяПоляТаблицыФормы) = Неопределено Тогда
		ЭлементРеквизита = Элементы.Добавить(ИмяПоляТаблицыФормы, Тип("ТаблицаФормы"),);
		ЭлементРеквизита.ПутьКДанным = ИмяРеквизитаДанныеФормыКоллекция;
	КонецЕсли;
	
	УдаляемыеРеквизиты = Новый Массив;
	РеквизитыДляУдаления = ПолучитьРеквизиты(ИмяРеквизитаДанныеФормыКоллекция);
	Для Каждого РеквизитУдаления Из РеквизитыДляУдаления Цикл
		УдаляемыеРеквизиты.Добавить(ИмяРеквизитаДанныеФормыКоллекция+"."+РеквизитУдаления.Имя);
		// Удаляем элементы формы
		Элементы.Удалить(Элементы[ИмяПоляТаблицыФормы+РеквизитУдаления.Имя]);
	КонецЦикла;
	
	// Добавление реквизитов в таблицу формы
	ДобавляемыеРеквизиты = Новый Массив;
	Для каждого Колонка Из ТаблицаЗначений.Колонки Цикл
		ДобавляемыеРеквизиты.Добавить(Новый РеквизитФормы(Колонка.Имя, Колонка.ТипЗначения, ИмяРеквизитаДанныеФормыКоллекция, Колонка.Заголовок));
	КонецЦикла;
	ИзменитьРеквизиты(ДобавляемыеРеквизиты,УдаляемыеРеквизиты);
	
	
	// Добавление элементов на форму
	Для каждого Колонка Из ТаблицаЗначений.Колонки Цикл
		ЭлементРеквизита = Элементы.Добавить(ИмяПоляТаблицыФормы + Колонка.Имя, Тип("ПолеФормы"), Элементы[ИмяПоляТаблицыФормы]);
		ЭлементРеквизита.ПутьКДанным = ИмяРеквизитаДанныеФормыКоллекция + "." + Колонка.Имя;
		ЭлементРеквизита.Вид = ВидПоляФормы.ПолеВвода;
	КонецЦикла;
	
	ЗначениеВРеквизитФормы(ТаблицаЗначений, ИмяРеквизитаДанныеФормыКоллекция);
	
КонецПроцедуры

ТЗ = СоздатьКолонкиТЗ(РезультатЗапроса);

&НаСервере
Функция СоздатьКолонкиТЗ (РезультатЗапроса)
	
	ТЗ = Новый ТаблицаЗначений;
	Для Каждого ТекКолонка Из РезультатЗапроса.Колонки Цикл
		ТЗ.Колонки.Добавить(ТекКолонка.Имя);	        
	КонецЦикла;
	
	Возврат ТЗ;	
	
КонецФункции

ПроизвестиОбработкуПолейВыборки(ВыборкаДетальныеЗаписи,ТЗ);

&НаСервере
Функция ПроизвестиОбработкуПолейВыборки(ВыборкаДетальныеЗаписи, Знач ТЗ)

	Если ТипЗнч(ТЗ) = Тип("ТаблицаЗначений") Тогда
		ТекСтрока = ТЗ.Добавить();
		
	Иначе    //если не ТаблицаЗначений, то ДеревоЗначений или строка дерева значений  
		
		ТекСтрока = ТЗ.Строки.Добавить();    
		
	КонецЕсли;
	
	ЗаполнитьЗначенияСвойств(ТекСтрока,ВыборкаДетальныеЗаписи); 
	
	Возврат ТекСтрока; 
	
КонецФункции 


3. Открыть форму с динамическим списком с параметром в запросе

- команда открывает форму и добавляет в структуру формы Параметры новое значение из параметров команды  

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	//Вставить содержимое обработчика.
	ПараметрыФормы = Новый Структура("Контрагент", ПараметрКоманды);
	ОткрытьФорму("Справочник.Контрагенты.Форма.ДвиженияБУ", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
КонецПроцедуры

- При создании формы на сервере обращаемся к структуре формы Параметы и передаем значение в параметр запроса динамического списка

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)                        
	Контрагент = Неопределено;
	Параметры.Свойство("Контрагент", Контрагент);
	СписокДвижений.Параметры.УстановитьЗначениеПараметра("Контрагент", Контрагент);
КонецПроцедуры
