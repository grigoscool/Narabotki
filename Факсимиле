
ДанныеДляПечати = Запрос.ВыполнитьПакет();
	
	Шапка = ДанныеДляПечати[7].Выгрузить();
	Товары = ДанныеДляПечати[8].Выгрузить();
	Услуги = ДанныеДляПечати[9].Выгрузить();
	
	ДанныеШапка = ОбщегоНазначения.СтрокаТаблицыЗначенийВСтруктуру(Шапка[0]);
	
	ДанныеТовары = ОбщегоНазначения.ТаблицаЗначенийВМассив(Товары);
	НомерСтроки = 1; // не все строки попадают на ПФ, поэтому изменяем нумерацию с 1 по Количество
	Для каждого Товар Из ДанныеТовары Цикл
		Товар.НС = НомерСтроки;
		НомерСтроки = НомерСтроки + 1;
	КонецЦикла;
	
	НомерСтроки = 1;
	ДанныеУслуги = ОбщегоНазначения.ТаблицаЗначенийВМассив(Услуги);
	Для каждого Услуга Из ДанныеУслуги Цикл
		Услуга.НС = НомерСтроки;
		НомерСтроки = НомерСтроки + 1;
	КонецЦикла;
	
	Если ПараметрыПечати.Свойство("ОтображатьФаксимиле") И ПараметрыПечати.ОтображатьФаксимиле Тогда
	
		Если ЗначениеЗаполнено(ДанныеШапка["ОрганизацияФаксимильнаяПечать"]) Тогда     
		    ПечатьОрганизации = РаботаСФайлами.ДанныеФайла(ДанныеШапка["ОрганизацияФаксимильнаяПечать"]).СсылкаНаДвоичныеДанныефайла;
		Иначе	
			ПечатьОрганизации = Неопределено;
		КонецЕсли;  
		
		ФаксимильнаяПодписьРуководителя = ПолучитьПодпись(ДанныеШапка["ФизическоеЛицоОрг"]);
		Если ЗначениеЗаполнено(ФаксимильнаяПодписьРуководителя) Тогда     
		    ПодписьРуководителя = РаботаСФайлами.ДанныеФайла(ФаксимильнаяПодписьРуководителя).СсылкаНаДвоичныеДанныефайла;
		Иначе	
			ПодписьРуководителя = Неопределено;
		КонецЕсли; 		
	Иначе
		ПечатьОрганизации = Неопределено;
		ПодписьРуководителя = Неопределено;
	КонецЕсли;
