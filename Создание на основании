--- СОБСТВЕННЫЙ ТИПОВОЙ МЕХАНИЗМ СОЗДАНИЯ НА ОСНОВАНИИ
В ММ Объекта 
	Если ПравоДоступа("Добавление", Метаданные.Документы.ЗаказНаВнутреннееПотребление) Тогда
		
		КомандаСоздатьНаОсновании = КомандыСозданияНаОсновании.Добавить();
		КомандаСоздатьНаОсновании.Обработчик = "ИТПлВводНаОснованииКлиент.ВнутреннееПотреблениеСоздатьНаОснованииАкта";
		КомандаСоздатьНаОсновании.Идентификатор = "СоздатьНаОснованииЗаказа";
		КомандаСоздатьНаОсновании.Представление = "Внутреннее потребление (Задолженность на ТК)";
		
	КонецЕсли;

Процедура ВнутреннееПотреблениеСоздатьНаОснованииАкта(Основание, ПараметрыВыполнения) Экспорт
	
	ОткрытьФорму(
			"Документ.ВнутреннееПотребление.Форма.ФормаДокумента",
			Новый Структура("Основание", Новый Структура("ДокументОснование, ЗадолженностьНаТК", Основание, Истина)));
	
КонецПроцедуры

В МО событие обработка заполнения
	ИначеЕсли ТипЗнч(ДанныеЗаполнения) = Тип("Структура") И ДанныеЗаполнения.Свойство("ЗадолженностьНаТК") Тогда
		ЗаполнитьНаОснованииАктОРасхожденияхПослеОтгрузки(ДанныеЗаполнения.ДокументОснование, Истина);
